DROP TABLE "FORFAIT" CASCADE CONSTRAINTS;
DROP TABLE "GA" CASCADE CONSTRAINTS;
DROP TABLE "PN" CASCADE CONSTRAINTS;
DROP TABLE "PALIER" CASCADE CONSTRAINTS;
DROP TABLE "EVALUATION" CASCADE CONSTRAINTS;
DROP TABLE "PRESTATAIRE" CASCADE CONSTRAINTS;
DROP TABLE "REGION" CASCADE CONSTRAINTS;
DROP TABLE "ASSURE" CASCADE CONSTRAINTS;
DROP TABLE "INCIDENT" CASCADE CONSTRAINTS;

	
	CREATE TABLE "REGION" 
   (	"REGION_ID" NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  NOT NULL ENABLE, 
	"NOM" VARCHAR2(50 CHAR), 
	"LONGITUDE" NUMBER, 
	"LATITUDE" NUMBER, 
	"NM_MISSION" NUMBER, 
	"REGION" VARCHAR2(50 CHAR), 
	 CONSTRAINT "REGION_PK" PRIMARY KEY ("REGION_ID")
  USING INDEX  ENABLE
   ) ;
CREATE TABLE "ASSURE" 
   (	"ASSURE_ID" NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  NOT NULL ENABLE, 
	"NOM" VARCHAR2(50 CHAR), 
	"NOTE" NUMBER, 
	"COMMENTAIRE" VARCHAR2(1000 CHAR), 
	"DESCRIPTION" VARCHAR2(100 CHAR), 
	 CONSTRAINT "ASSURE_PK" PRIMARY KEY ("ASSURE_ID")
  USING INDEX  ENABLE
   ) ;

  CREATE TABLE "EVALUATION" 
   (	"EVALUATION_ID" NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  NOT NULL ENABLE, 
	"SCORE" FLOAT(126), 
	"PRESTATAIRE_ID" NUMBER NOT NULL ENABLE, 
	"DATE_EVALUATION" DATE, 
	"TAUX_RESPET_DELAIS" NUMBER, 
	"NBR_MISSION_RETARD" NUMBER, 
	"TAUX_INCIDENT" NUMBER, 
	"TAUX_MISSIONNEMENT" NUMBER, 
	"TAUX_RESPECT_COUTMOY" NUMBER, 
	 CONSTRAINT "EVALUATION_PK" PRIMARY KEY ("EVALUATION_ID")
  USING INDEX  ENABLE
   ) ;
 CREATE TABLE "PRESTATAIRE" 
   (	"NOM" VARCHAR2(50 CHAR), 
	"PRENOM" VARCHAR2(50 CHAR), 
	"DATE_INSCRIPTION" DATE, 
	"REGION_ID" NUMBER, 
	"PRESTATAIRE_ID" NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  NOT NULL ENABLE, 
	"EVALUATION_ID" NUMBER, 
	"LONGITUDE" NUMBER, 
	"LATITUDE" NUMBER, 
	"NBR_MISSION" NUMBER, 
	"MATRICULE" VARCHAR2(1000), 
	 CONSTRAINT "PRESTATAIRE_PK" PRIMARY KEY ("PRESTATAIRE_ID")
  USING INDEX  ENABLE
   ) ;

  ALTER TABLE "PRESTATAIRE" ADD CONSTRAINT "PRESTATAIRE_REGION" FOREIGN KEY ("REGION_ID")
	  REFERENCES "REGION" ("REGION_ID") ENABLE;
  ALTER TABLE "PRESTATAIRE" ADD CONSTRAINT "PRESTATAIRE_EVALUATION_FK" FOREIGN KEY ("EVALUATION_ID")
	  REFERENCES "EVALUATION" ("EVALUATION_ID") ENABLE;
  ALTER TABLE "EVALUATION" ADD CONSTRAINT "EVALUATION_PRESTATAIRE_FK" FOREIGN KEY ("PRESTATAIRE_ID")
	  REFERENCES "PRESTATAIRE" ("PRESTATAIRE_ID") ENABLE;

 CREATE TABLE "FORFAIT" 
   (	"FORFAIT_ID" NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  NOT NULL ENABLE, 
	"STATUS" NUMBER(1,0), 
	"FRAUDE" NUMBER(1,0), 
	"COUT_EXPERT" NUMBER, 
	"DATE_PRISE_PHOTO" DATE, 
	"DATE_PUBLICATION_RAPPORT" DATE, 
	"REGION_ID" NUMBER, 
	"PESTATAIRE_MATRICULE" VARCHAR2(100 CHAR), 
	"DATE_MISSIONNEMENT" DATE, 
	"DATE_CONFIRMATION_RDV" DATE, 
	"ASSURE_ID" NUMBER NOT NULL ENABLE, 
	"PRESTATAIRE_ID" NUMBER, 
	"NOTE_ASSURE" NUMBER, 
	"COMMENTAIRE_ASSURE" VARCHAR2(100 CHAR), 
	 CONSTRAINT "MISSION_PK" PRIMARY KEY ("FORFAIT_ID")
  USING INDEX  ENABLE
   ) ;

  ALTER TABLE "FORFAIT" ADD CONSTRAINT "REGION_FK" FOREIGN KEY ("REGION_ID")
	  REFERENCES "REGION" ("REGION_ID") ENABLE;
  ALTER TABLE "FORFAIT" ADD CONSTRAINT "FORFAIT_ASSURE_FK" FOREIGN KEY ("ASSURE_ID")
	  REFERENCES "ASSURE" ("ASSURE_ID") ENABLE;
  ALTER TABLE "FORFAIT" ADD CONSTRAINT "FORFAIT_PRESTATAIRE_FK" FOREIGN KEY ("PRESTATAIRE_ID")
	  REFERENCES "PRESTATAIRE" ("PRESTATAIRE_ID") ENABLE;

  CREATE TABLE "GA" 
   (	"GA_ID" NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  NOT NULL ENABLE, 
	"STATUS" NUMBER(1,0), 
	"FRAUDE" NUMBER(1,0), 
	"COUT_EXPERT" NUMBER, 
	"DATE_PRISE_PHOTO" DATE, 
	"DATE_PUBLICATION_RAPPORT" DATE, 
	"REGION_ID" NUMBER, 
	"MATRICULE" VARCHAR2(100 CHAR), 
	"DATE_PUB_FACTURE" DATE, 
	"DATE_VALIDATION_DEVIS" DATE, 
	"DATEDATE_PUB_DEVIS" DATE, 
	"DATE_IMMOBILISATION" DATE, 
	"ASSURE_ID" NUMBER NOT NULL ENABLE, 
	"PRESTATAIRE_ID" NUMBER, 
	"NOTE-ASSURE" NUMBER, 
	"COMMENTAIRE_ASSURE" VARCHAR2(100 CHAR), 
	 CONSTRAINT "GA_PK" PRIMARY KEY ("GA_ID")
  USING INDEX  ENABLE
   ) ;

  ALTER TABLE "GA" ADD CONSTRAINT "REGION_GA_FK" FOREIGN KEY ("REGION_ID")
	  REFERENCES "REGION" ("REGION_ID") ENABLE;
  ALTER TABLE "GA" ADD CONSTRAINT "GA_ASSURE_FK" FOREIGN KEY ("ASSURE_ID")
	  REFERENCES "ASSURE" ("ASSURE_ID") ENABLE;
  ALTER TABLE "GA" ADD CONSTRAINT "GA_PRESTATAIRE_FK" FOREIGN KEY ("PRESTATAIRE_ID")
	  REFERENCES "PRESTATAIRE" ("PRESTATAIRE_ID") ENABLE;


  CREATE TABLE "INCIDENT" 
   (	"INCIDENT_ID" NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  NOT NULL ENABLE, 
	"GRAVITE" VARCHAR2(10 CHAR), 
	"DESCRIPTION" VARCHAR2(1000 CHAR), 
	"DATE_INCIDENT" DATE, 
	"PRESTATAIRE_ID" NUMBER NOT NULL ENABLE, 
	 CONSTRAINT "INCIDENT_GRAVITE_CHK" CHECK ("GRAVITE" IN ('faible', 'moyen', 'élevé')) ENABLE, 
	 CONSTRAINT "INCIDENT_PK" PRIMARY KEY ("INCIDENT_ID")
  USING INDEX  ENABLE
   ) ;

  ALTER TABLE "INCIDENT" ADD CONSTRAINT "INCIDENT_PRESTATAIRE_FK" FOREIGN KEY ("PRESTATAIRE_ID")
	  REFERENCES "PRESTATAIRE" ("PRESTATAIRE_ID") ENABLE;



  CREATE TABLE "PALIER" 
   (	"PALIER_ID" NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  NOT NULL ENABLE, 
	"NOM" VARCHAR2(50 CHAR), 
	"MAX" NUMBER, 
	"MIN" NUMBER, 
	"COUT_MOYEN" FLOAT(126), 
	 CONSTRAINT "PALIER_PK" PRIMARY KEY ("PALIER_ID")
  USING INDEX  ENABLE
   ) ;


  CREATE TABLE "PN" 
   (	"PN_ID" NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  NOT NULL ENABLE, 
	"STATUS" NUMBER(1,0), 
	"FRAUDE" NUMBER(1,0), 
	"COUT_EXPERT" NUMBER, 
	"DATE_PRISE_PHOTO" DATE, 
	"DATE_PUBLICATION_RAPPORT" DATE, 
	"REGION_ID" NUMBER, 
	"MATRICULE" VARCHAR2(100 CHAR), 
	"DATE_MISSIONNEMENT" DATE, 
	"DATE_CONFIRMATIONRDV" DATE, 
	"DATE_VALIDATION_DEVIS" DATE, 
	"DATE_PUB_DEVIS" DATE, 
	"PALIER_ID" NUMBER NOT NULL ENABLE, 
	"ASSURE_ID" NUMBER NOT NULL ENABLE, 
	"PRESTATAIRE_ID" NUMBER, 
	"NOTE_ASSURE" NUMBER, 
	"COMMENTAIRE_ASSURE" VARCHAR2(100 CHAR), 
	 CONSTRAINT "PN_PK" PRIMARY KEY ("PN_ID")
  USING INDEX  ENABLE
   ) ;

  ALTER TABLE "PN" ADD CONSTRAINT "REGION_PN_FK" FOREIGN KEY ("REGION_ID")
	  REFERENCES "REGION" ("REGION_ID") ENABLE;
  ALTER TABLE "PN" ADD CONSTRAINT "PALIER_FK" FOREIGN KEY ("PALIER_ID")
	  REFERENCES "PALIER" ("PALIER_ID") ENABLE;
  ALTER TABLE "PN" ADD CONSTRAINT "PN_ASSURE_FK" FOREIGN KEY ("ASSURE_ID")
	  REFERENCES "ASSURE" ("ASSURE_ID") ENABLE;
  ALTER TABLE "PN" ADD CONSTRAINT "PN_PRESTATAIRE_FK" FOREIGN KEY ("PRESTATAIRE_ID")
	  REFERENCES "PRESTATAIRE" ("PRESTATAIRE_ID") ENABLE;


 